import{P as u,L as f,M as h,E as d,U as w}from"./main.BG59EcP4.js";function m(e){const t={"/":h,"/login":f,"/profile":u};function n(){let o=window.location.hash;return!o||o==="#"?"/":o.startsWith("#/")?o.replace("#",""):"/"+o.replace("#","")}function a(o){o.startsWith("/")?window.location.hash=o:window.location.hash="/"+o}function l(){const o=n();let s=t[o];if(o==="/profile"&&!e.isLoggedIn()){window.location.hash="/login";return}else if(o==="/login"&&e.isLoggedIn()){window.location.hash="/";return}s||(s=d),document.getElementById("root").innerHTML=s(e)}function g(){window.addEventListener("hashchange",l),!window.location.hash||window.location.hash==="#"?window.location.hash="/":setTimeout(l,10)}return{navigate:a,init:g}}const v=navigator.userAgent.includes("Playwright"),r=w(),i=m(r),p=()=>"/front_5th_chapter1-1",c=p();document.addEventListener("click",e=>{if(e.target.id==="logout"&&(e.preventDefault(),console.log("로그아웃"),r.logout(),i.navigate("/login")),e.target.matches('a[href^="#/"], a[href^="/"]')){e.preventDefault();let t=e.target.getAttribute("href");if(t.startsWith(c)&&(t=t.replace(c,"")),t==="#")return;t.startsWith("#/")&&(t=t.substring(1)),i.navigate(t)}});document.addEventListener("submit",e=>{if(e.preventDefault(),e.target.id==="login-form"){const t=e.target.querySelector("#username").value,n=e.target.querySelector("#password").value||"";console.log("로그인:",{username:t,password:n}),t&&(r.login({username:t,email:"",bio:""}),console.log("로그인 성공"),i.navigate("/profile"))}if(e.target.id==="profile-form"){const t=e.target.querySelector("#username").value,n=e.target.querySelector("#email").value||"",a=e.target.querySelector("#bio").value||"";console.log("프로필 업데이트:",{username:t,email:n,bio:a}),t&&(r.updateProfile({username:t,email:n,bio:v?a+" "+a:a}),alert("프로필이 업데이트되었습니다!"),i.navigate("/profile"))}});i.init();
